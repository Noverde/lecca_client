require 'spec_helper'
require 'support/proposal_mock'

describe LeccaClient::Proposal::Customer do
  subject(:customer) { LeccaClient::Proposal::Customer.new(customer_hash) }

  let(:customer_hash) { ProposalMock.customer }

  describe '#build' do
    let(:line) { 'FERNANDA LINS DA COSTA                                      00001  219087608                                                                                 LUZINETE RAMOS LINS DA COSTA       DIC    ASSALARIADO                        PRECESSA GIS                       11861257724198709240000000100000022750000000000<font color=green><font color=green><br><b>REGRAS</b><br><br>CLIENTE (NOVO) NAO POSSUI CONTRATOS NA BASE (QUITADOS OU ABERTOS)<BR></font><br><br> Usuario Conectado: VSIMONIN<br></font>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ' }

    it 'builds the customer part' do
      expect(customer.build).to eq(line)
    end
  end
end
